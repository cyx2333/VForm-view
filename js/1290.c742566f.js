"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[1290],{91290:function(e,n,o){o(44114);var t=o(38308),s=o(8358),r=o(44104);function i(e){var n=e.$textLayer,o=n.$lenses;o&&o.forEach((function(e){e.remove()})),n.$lenses=null}function a(e,n){var o=e&n.CHANGE_LINES||e&n.CHANGE_FULL||e&n.CHANGE_SCROLL||e&n.CHANGE_TEXT;if(o){var t=n.session,s=n.session.lineWidgets,a=n.$textLayer,c=a.$lenses;if(s){var l=n.$textLayer.$lines.cells,d=n.layerConfig,u=n.$padding;c||(c=a.$lenses=[]);for(var f=0,L=0;L<l.length;L++){var p=l[L].row,v=s[p],g=v&&v.lenses;if(g&&g.length){var h=c[f];h||(h=c[f]=r.buildDom(["div",{class:"ace_codeLens"}],n.container)),h.style.height=d.lineHeight+"px",f++;for(var m=0;m<g.length;m++){var C=h.childNodes[2*m];C||(0!=m&&h.appendChild(r.createTextNode(" | ")),C=r.buildDom(["a"],h)),C.textContent=g[m].title,C.lensCommand=g[m]}while(h.childNodes.length>2*m-1)h.lastChild.remove();var $=n.$cursorLayer.getPixelPosition({row:p,column:0},!0).top-d.lineHeight*v.rowsAbove-d.offset;h.style.top=$+"px";var w=n.gutterWidth,k=t.getLine(p).search(/\S|$/);-1==k&&(k=0),w+=k*d.characterWidth,h.style.paddingLeft=u+w+"px"}}while(f<c.length)c.pop().remove()}else c&&i(n)}}function c(e){if(e.lineWidgets){var n=e.widgetManager;e.lineWidgets.forEach((function(e){e&&e.lenses&&n.removeLineWidget(e)}))}}function l(e){e.codeLensProviders=[],e.renderer.on("afterRender",a),e.$codeLensClickHandler||(e.$codeLensClickHandler=function(n){var o=n.target.lensCommand;o&&(e.execCommand(o.id,o.arguments),e._emit("codeLensClick",n))},t.addListener(e.container,"click",e.$codeLensClickHandler,e)),e.$updateLenses=function(){var o=e.session;if(o){var t=e.codeLensProviders.length,s=[];e.codeLensProviders.forEach((function(e){e.provideCodeLenses(o,(function(e,n){e||(n.forEach((function(e){s.push(e)})),t--,0==t&&r())}))}))}function r(){var t=o.selection.cursor,r=o.documentToScreenRow(t),i=o.getScrollTop(),a=n.setLenses(o,s),c=o.$undoManager&&o.$undoManager.$lastDelta;if(!(c&&"remove"==c.action&&c.lines.length>1)){var l=o.documentToScreenRow(t),d=e.renderer.layerConfig.lineHeight,u=o.getScrollTop()+(l-r)*d;0==a&&i<d/4&&i>-d/4&&(u=-d),o.setScrollTop(u)}}};var o=s.delayedCall(e.$updateLenses);e.$updateLensesOnInput=function(){o.delay(250)},e.on("input",e.$updateLensesOnInput)}function d(e){e.off("input",e.$updateLensesOnInput),e.renderer.off("afterRender",a),e.$codeLensClickHandler&&e.container.removeEventListener("click",e.$codeLensClickHandler)}n.setLenses=function(e,n){var o=Number.MAX_VALUE;return c(e),n&&n.forEach((function(n){var t=n.start.row,s=n.start.column,r=e.lineWidgets&&e.lineWidgets[t];r&&r.lenses||(r=e.widgetManager.$registerLineWidget({rowCount:1,rowsAbove:1,row:t,column:s,lenses:[]})),r.lenses.push(n.command),t<o&&(o=t)})),e._emit("changeFold",{data:{start:{row:o}}}),o},n.registerCodeLensProvider=function(e,n){e.setOption("enableCodeLens",!0),e.codeLensProviders.push(n),e.$updateLensesOnInput()},n.clear=function(e){n.setLenses(e,null)};var u=o(6371).K;o(19008).defineOptions(u.prototype,"editor",{enableCodeLens:{set:function(e){e?l(this):d(this)}}}),r.importCssString("\n.ace_codeLens {\n    position: absolute;\n    color: #aaa;\n    font-size: 88%;\n    background: inherit;\n    width: 100%;\n    display: flex;\n    align-items: flex-end;\n    pointer-events: none;\n}\n.ace_codeLens > a {\n    cursor: pointer;\n    pointer-events: auto;\n}\n.ace_codeLens > a:hover {\n    color: #0000ff;\n    text-decoration: underline;\n}\n.ace_dark > .ace_codeLens > a:hover {\n    color: #4e94ce;\n}\n","codelense.css",!1)}}]);
//# sourceMappingURL=1290.c742566f.js.map