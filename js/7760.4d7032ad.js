"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[7760],{68406:function(e,t,n){n(44114);var i=n(41218),s=n(90807).FoldMode,r=n(73425).Q,l=n(46458).TokenIterator,u=t.l=function(){};i.inherits(u,s),function(){this.indentKeywords={class:1,def:1,module:1,do:1,unless:1,if:1,while:1,for:1,until:1,begin:1,else:0,elsif:0,rescue:0,ensure:0,when:0,end:-1,case:1,"=begin":1,"=end":-1},this.foldingStartMarker=/(?:\s|^)(def|do|while|class|unless|module|if|for|until|begin|else|elsif|case|rescue|ensure|when)\b|({\s*$)|(=begin)/,this.foldingStopMarker=/(=end(?=$|\s.*$))|(^\s*})|\b(end)\b/,this.getFoldWidget=function(e,t,n){var i=e.getLine(n),s=this.foldingStartMarker.test(i),r=this.foldingStopMarker.test(i);if(s&&!r){var l=i.match(this.foldingStartMarker);if(l[1]){if("if"==l[1]||"else"==l[1]||"while"==l[1]||"until"==l[1]||"unless"==l[1]){if("else"==l[1]&&!1===/^\s*else\s*$/.test(i))return;if(!1===/^\s*(?:if|else|while|until|unless)\s*/.test(i))return}if("when"==l[1]&&!0===/\sthen\s/.test(i))return;if("keyword"===e.getTokenAt(n,l.index+2).type)return"start"}else{if(!l[3])return"start";if("comment.multiline"===e.getTokenAt(n,l.index+1).type)return"start"}}if("markbeginend"!=t||!r||s&&r)return"";l=i.match(this.foldingStopMarker);if("end"===l[3]){if("keyword"===e.getTokenAt(n,l.index+1).type)return"end"}else{if(!l[1])return"end";if("comment.multiline"===e.getTokenAt(n,l.index+1).type)return"end"}},this.getFoldWidgetRange=function(e,t,n){var i=e.doc.getLine(n),s=this.foldingStartMarker.exec(i);if(s)return s[1]||s[3]?this.rubyBlock(e,n,s.index+2):this.openingBracketBlock(e,"{",n,s.index);s=this.foldingStopMarker.exec(i);return s?"end"===s[3]&&"keyword"===e.getTokenAt(n,s.index+1).type||"=end"===s[1]&&"comment.multiline"===e.getTokenAt(n,s.index+1).type?this.rubyBlock(e,n,s.index+1):this.closingBracketBlock(e,"}",n,s.index+s[0].length):void 0},this.rubyBlock=function(e,t,n,i){var s=new l(e,t,n),u=s.getCurrentToken();if(u&&("keyword"==u.type||"comment.multiline"==u.type)){var a=u.value,o=e.getLine(t);switch(u.value){case"if":case"unless":case"while":case"until":var h=new RegExp("^\\s*"+u.value);if(!h.test(o))return;var d=this.indentKeywords[a];break;case"when":if(/\sthen\s/.test(o))return;case"elsif":case"rescue":case"ensure":d=1;break;case"else":h=new RegExp("^\\s*"+u.value+"\\s*$");if(!h.test(o))return;d=1;break;default:d=this.indentKeywords[a];break}var c=[a];if(d){var f=-1===d?e.getLine(t-1).length:e.getLine(t).length,g=t,k=[];if(k.push(s.getCurrentTokenRange()),s.step=-1===d?s.stepBackward:s.stepForward,"comment.multiline"==u.type){while(u=s.step())if("comment.multiline"===u.type)if(1==d){if(f=6,"=end"==u.value)break}else if("=begin"==u.value)break}else while(u=s.step()){var w=!1;if("keyword"===u.type){var v=d*this.indentKeywords[u.value];switch(o=e.getLine(s.getCurrentTokenRow()),u.value){case"do":for(var m=s.$tokenIndex-1;m>=0;m--){var p=s.$rowTokens[m];if(p&&("while"==p.value||"until"==p.value||"for"==p.value)){v=0;break}}break;case"else":h=new RegExp("^\\s*"+u.value+"\\s*$");h.test(o)&&"case"!=a||(v=0,w=!0);break;case"if":case"unless":case"while":case"until":h=new RegExp("^\\s*"+u.value);h.test(o)||(v=0,w=!0);break;case"when":(/\sthen\s/.test(o)||"case"==a)&&(v=0,w=!0);break}if(v>0)c.unshift(u.value);else if(v<=0&&!1===w){if(c.shift(),!c.length){if(("while"==a||"until"==a||"for"==a)&&"do"!=u.value)break;if("do"==u.value&&-1==d&&0!=v)break;if("do"!=u.value)break}0===v&&c.unshift(u.value)}}}if(!u)return null;if(i)return k.push(s.getCurrentTokenRange()),k;t=s.getCurrentTokenRow();if(-1===d){if("comment.multiline"===u.type)var b=6;else b=e.getLine(t).length;return new r(t,b,g-1,f)}return new r(g,f,t-1,e.getLine(t-1).length)}}}}.call(u.prototype)},83085:function(e,t,n){var i=n(73425).Q,s=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t),s=n.match(/^(\s*\})/);if(!s)return 0;var r=s[1].length,l=e.findMatchingBracket({row:t,column:r});if(!l||l.row==t)return 0;var u=this.$getIndent(e.getLine(l.row));e.replace(new i(t,0,t,r-1),u)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(s.prototype),t.MatchingBraceOutdent=s},17760:function(e,t,n){var i=n(41218),s=n(38507).Mode,r=n(80987).RubyHighlightRules,l=n(83085).MatchingBraceOutdent,u=n(73425).Q,a=n(68406).l,o=function(){this.HighlightRules=r,this.$outdent=new l,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new a,this.indentKeywords=this.foldingRules.indentKeywords};i.inherits(o,s),function(){this.lineCommentStart="#",this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),s=this.getTokenizer().getLineTokens(t,e),r=s.tokens;if(r.length&&"comment"==r[r.length-1].type)return i;if("start"==e){var l=t.match(/^.*[\{\(\[]\s*$/),u=t.match(/^\s*(class|def|module)\s.*$/),a=t.match(/.*do(\s*|\s+\|.*\|\s*)$/),o=t.match(/^\s*(if|else|when|elsif|unless|while|for|begin|rescue|ensure)\s*/);(l||u||a||o)&&(i+=n)}return i},this.checkOutdent=function(e,t,n){return/^\s+(end|else|rescue|ensure)$/.test(t+n)||this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){var i=t.getLine(n);if(/}/.test(i))return this.$outdent.autoOutdent(t,n);var s=this.$getIndent(i),r=t.getLine(n-1),l=this.$getIndent(r),a=t.getTabString();l.length<=s.length&&s.slice(-a.length)==a&&t.remove(new u(n,s.length-a.length,n,s.length))},this.getMatching=function(e,t,n){if(void 0==t){var i=e.selection.lead;n=i.column,t=i.row}var s=e.getTokenAt(t,n);if(s&&s.value in this.indentKeywords)return this.foldingRules.rubyBlock(e,t,n,!0)},this.$id="ace/mode/ruby",this.snippetFileId="ace/snippets/ruby"}.call(o.prototype),t.Mode=o}}]);
//# sourceMappingURL=7760.4d7032ad.js.map